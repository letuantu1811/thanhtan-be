(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{kG2t:function(e,t,i){"use strict";i.d(t,"a",(function(){return r})),i.d(t,"b",(function(){return l})),i.d(t,"c",(function(){return h}));var n=i("CcnG"),s=(i("gIcY"),function(e){return e[e.FINANCIAL=0]="FINANCIAL",e[e.NATURAL=1]="NATURAL",e}({})),r=new n.t("currency.mask.config"),a=function(){function e(e){this.htmlInputElement=e}return e.prototype.setCursorAt=function(e){if(this.htmlInputElement.setSelectionRange)this.htmlInputElement.focus(),this.htmlInputElement.setSelectionRange(e,e);else if(this.htmlInputElement.createTextRange){var t=this.htmlInputElement.createTextRange();t.collapse(!0),t.moveEnd("character",e),t.moveStart("character",e),t.select()}},e.prototype.updateValueAndCursor=function(e,t,i){this.rawValue=e,this.setCursorAt(i-=t-e.length)},Object.defineProperty(e.prototype,"canInputMoreNumbers",{get:function(){var e=!(this.rawValue.replace(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g,"").length>=this.htmlInputElement.maxLength&&this.htmlInputElement.maxLength>=0),t=this.inputSelection.selectionStart,i=this.inputSelection.selectionEnd,n=!(t==i||!this.htmlInputElement.value.substring(t,i).match(/[^0-9\u0660-\u0669\u06F0-\u06F9]/)),s="0"==this.htmlInputElement.value.substring(0,1);return e||n||s},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"inputSelection",{get:function(){var e=0,t=0;if("number"==typeof this.htmlInputElement.selectionStart&&"number"==typeof this.htmlInputElement.selectionEnd)e=this.htmlInputElement.selectionStart,t=this.htmlInputElement.selectionEnd;else{var i=document.selection.createRange();if(i&&i.parentElement()==this.htmlInputElement){var n=this.htmlInputElement.value.length,s=this.htmlInputElement.value.replace(/\r\n/g,"\n"),r=this.htmlInputElement.createTextRange();r.moveToBookmark(i.getBookmark());var a=this.htmlInputElement.createTextRange();a.collapse(!1),r.compareEndPoints("StartToEnd",a)>-1?e=t=n:(e=-r.moveStart("character",-n),e+=s.slice(0,e).split("\n").length-1,r.compareEndPoints("EndToEnd",a)>-1?t=n:(t=-r.moveEnd("character",-n),t+=s.slice(0,t).split("\n").length-1))}}return{selectionStart:e,selectionEnd:t}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rawValue",{get:function(){return this.htmlInputElement&&this.htmlInputElement.value},set:function(e){this._storedRawValue=e,this.htmlInputElement&&(this.htmlInputElement.value=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storedRawValue",{get:function(){return this._storedRawValue||""},enumerable:!1,configurable:!0}),e}(),o=function(){function e(e,t){this.htmlInputElement=e,this.options=t,this.SINGLE_DIGIT_REGEX=new RegExp(/^[0-9\u0660-\u0669\u06F0-\u06F9]$/),this.ONLY_NUMBERS_REGEX=new RegExp(/[^0-9\u0660-\u0669\u06F0-\u06F9]/g),this.PER_AR_NUMBER=new Map,this.inputManager=new a(e),this.initialize()}return e.prototype.initialize=function(){this.PER_AR_NUMBER.set("\u06f0","0"),this.PER_AR_NUMBER.set("\u06f1","1"),this.PER_AR_NUMBER.set("\u06f2","2"),this.PER_AR_NUMBER.set("\u06f3","3"),this.PER_AR_NUMBER.set("\u06f4","4"),this.PER_AR_NUMBER.set("\u06f5","5"),this.PER_AR_NUMBER.set("\u06f6","6"),this.PER_AR_NUMBER.set("\u06f7","7"),this.PER_AR_NUMBER.set("\u06f8","8"),this.PER_AR_NUMBER.set("\u06f9","9"),this.PER_AR_NUMBER.set("\u0660","0"),this.PER_AR_NUMBER.set("\u0661","1"),this.PER_AR_NUMBER.set("\u0662","2"),this.PER_AR_NUMBER.set("\u0663","3"),this.PER_AR_NUMBER.set("\u0664","4"),this.PER_AR_NUMBER.set("\u0665","5"),this.PER_AR_NUMBER.set("\u0666","6"),this.PER_AR_NUMBER.set("\u0667","7"),this.PER_AR_NUMBER.set("\u0668","8"),this.PER_AR_NUMBER.set("\u0669","9")},e.prototype.addNumber=function(e){var t=this.options,i=t.decimal,n=t.precision,r=t.inputMode,a=String.fromCharCode(e),o=a===this.options.decimal;if(this.rawValue){var u=this.inputSelection.selectionEnd,l=this.rawValue.substring(0,f=this.inputSelection.selectionStart),h=this.rawValue.substring(u,this.rawValue.length),p=-1!==l.indexOf(i);r===s.NATURAL&&p&&f===u&&(h=h.substring(1));var c=l+a+h,d=f+1;if(!o&&a!==this.options.thousands||a!==h[0]){if(!this.SINGLE_DIGIT_REGEX.test(a))return}else d++;this.rawValue=c,this.updateFieldValue(d)}else{this.rawValue=this.applyMask(!1,a);var f=void 0;r===s.NATURAL&&n>0&&(f=this.rawValue.indexOf(i),o&&f++),this.updateFieldValue(f)}},e.prototype.applyMask=function(e,t,i){void 0===i&&(i=!1);var n=this.options,r=n.allowNegative,a=n.decimal,o=n.precision,u=n.prefix,l=n.suffix,h=n.thousands,p=n.min,c=n.max,d=n.inputMode,f=(t=e?new Number(t).toFixed(o):t).replace(this.ONLY_NUMBERS_REGEX,"");if(!f&&t!==a)return"";d!==s.NATURAL||e||i||(f=(t=this.padOrTrimPrecision(t)).replace(this.ONLY_NUMBERS_REGEX,""));var g=f.slice(0,f.length-o).replace(/^\u0660*/g,"").replace(/^\u06F0*/g,"").replace(/^0*/g,"");""==g&&(g="0");var m=parseInt(g);g=g.replace(/\B(?=([0-9\u0660-\u0669\u06F0-\u06F9]{3})+(?![0-9\u0660-\u0669\u06F0-\u06F9]))/g,h),h&&g.startsWith(h)&&(g=g.substring(1));var v=g,E=f.slice(f.length-o),R=parseInt(E)||0,y=t.indexOf("-")>-1;c=this.isNullOrUndefined(c)||this.isNullOrUndefined(p)?c:Math.max(c,p);var M=m+R/Number("1".padEnd(o+1,"0"));return M=y?-M:M,!this.isNullOrUndefined(c)&&M>c?this.applyMask(!0,c+""):!this.isNullOrUndefined(p)&&M<p?this.applyMask(!0,p+""):(o>0&&(v+="0"==v&&E.length<o?a+"0".repeat(o-1)+E:a+E),(y&&r&&0!=M?"-":"")+u+v+l)},e.prototype.padOrTrimPrecision=function(e){var t=this.options,i=t.decimal,n=t.precision,s=e.lastIndexOf(i);-1===s&&(s=e.length,e+=i);var r=e.substring(s).replace(this.ONLY_NUMBERS_REGEX,""),a=r.length;if(a<n)for(var o=a;o<n;o++)r+="0";else a>n&&(r=r.substring(0,r.length+n-a));return e.substring(0,s)+i+r},e.prototype.clearMask=function(e){if(this.isNullable()&&""===e)return null;var t=(e||"0").replace(this.options.prefix,"").replace(this.options.suffix,"");return this.options.thousands&&(t=t.replace(new RegExp("\\"+this.options.thousands,"g"),"")),this.options.decimal&&(t=t.replace(this.options.decimal,".")),this.PER_AR_NUMBER.forEach((function(e,i){var n=new RegExp(i,"g");t=t.replace(n,e)})),parseFloat(t)},e.prototype.changeToNegative=function(){this.options.allowNegative&&""!=this.rawValue&&"-"!=this.rawValue.charAt(0)&&0!=this.value&&(this.rawValue=this.applyMask(!1,"-"+this.rawValue))},e.prototype.changeToPositive=function(){this.rawValue=this.applyMask(!1,this.rawValue.replace("-",""))},e.prototype.removeNumber=function(e){var t=this.options,i=t.decimal,n=t.thousands,r=t.prefix,a=t.suffix,o=t.inputMode;if(this.isNullable()&&0==this.value)this.rawValue=null;else{var u=this.inputSelection.selectionEnd,l=this.inputSelection.selectionStart,h=this.rawValue.length-a.length;if(u=Math.min(h,Math.max(u,r.length)),(l=Math.min(h,Math.max(l,r.length)))!==u||this.inputSelection.selectionStart===this.inputSelection.selectionEnd){var p=this.rawValue.indexOf(i);-1===p&&(p=this.rawValue.length);var c=0,d="",f=p<u,g=p+1===u;if(u===l)if(8==e){if(l<=r.length)return;l--,this.rawValue.substr(l,1).match(/\d/)||l--,o===s.NATURAL&&f&&(c=-1,g&&this.value<10&&this.value>-10&&(d+="0"))}else if(46==e||63272==e){if(l===h)return;u++,this.rawValue.substr(l,1).match(/\d/)||(l++,u++)}if(o===s.NATURAL&&l>p)for(var m=u-l,v=0;v<m;v++)d+="0";var E=this.rawValue.length-u;this.rawValue=this.rawValue.substring(0,l)+d+this.rawValue.substring(u),this.rawValue.substr(r.length,1)===n&&(this.rawValue=this.rawValue.substring(0,r.length)+this.rawValue.substring(r.length+1),E=Math.min(E,this.rawValue.length-r.length)),this.updateFieldValue(this.rawValue.length-E+c,!0)}else this.updateFieldValue(l)}},e.prototype.updateFieldValue=function(e,t){void 0===t&&(t=!1);var i=this.applyMask(!1,this.rawValue||"",t);e=null==e?this.rawValue.length:e,e=Math.max(this.options.prefix.length,Math.min(e,this.rawValue.length-this.options.suffix.length)),this.inputManager.updateValueAndCursor(i,this.rawValue.length,e)},e.prototype.updateOptions=function(e){var t=this.value;this.options=e,this.value=t},e.prototype.prefixLength=function(){return this.options.prefix.length},e.prototype.suffixLength=function(){return this.options.suffix.length},e.prototype.isNullable=function(){return this.options.nullable},Object.defineProperty(e.prototype,"canInputMoreNumbers",{get:function(){return this.inputManager.canInputMoreNumbers},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"inputSelection",{get:function(){return this.inputManager.inputSelection},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rawValue",{get:function(){return this.inputManager.rawValue},set:function(e){this.inputManager.rawValue=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"storedRawValue",{get:function(){return this.inputManager.storedRawValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this.clearMask(this.rawValue)},set:function(e){this.rawValue=this.applyMask(!0,""+e)},enumerable:!1,configurable:!0}),e.prototype.isNullOrUndefined=function(e){return null==e},e}(),u=function(){function e(e,t){this.inputService=new o(e,t)}return e.prototype.handleCut=function(e){var t=this;setTimeout((function(){t.inputService.updateFieldValue(),t.setValue(t.inputService.value),t.onModelChange(t.inputService.value)}),0)},e.prototype.handleInput=function(e){var t=this,i=this.inputService.inputSelection.selectionStart,n=this.inputService.rawValue.charCodeAt(i-1),s=this.inputService.rawValue.length,r=this.inputService.storedRawValue.length;if(1!=Math.abs(s-r))return this.inputService.updateFieldValue(i),void this.onModelChange(this.inputService.value);this.inputService.rawValue=this.inputService.storedRawValue,s<r&&this.timer((function(){t.inputService.updateFieldValue(i+1),t.inputService.removeNumber(8),t.onModelChange(t.inputService.value)}),0),s>r&&(this.inputService.updateFieldValue(i-1),this.handleKeypressImpl(n))},e.prototype.handleKeydown=function(e){var t=e.which||e.charCode||e.keyCode;8!=t&&46!=t&&63272!=t||(e.preventDefault(),this.inputService.inputSelection.selectionStart<=this.inputService.prefixLength()&&this.inputService.inputSelection.selectionEnd>=this.inputService.rawValue.length-this.inputService.suffixLength()?this.clearValue():(this.inputService.removeNumber(t),this.onModelChange(this.inputService.value)))},e.prototype.clearValue=function(){this.setValue(this.inputService.isNullable()?null:0),this.onModelChange(this.inputService.value)},e.prototype.handleKeypress=function(e){var t=e.which||e.charCode||e.keyCode;e.preventDefault(),97===t&&e.ctrlKey||this.handleKeypressImpl(t)},e.prototype.handleKeypressImpl=function(e){switch(e){case void 0:case 9:case 13:return;case 43:this.inputService.changeToPositive();break;case 45:this.inputService.changeToNegative();break;default:this.inputService.canInputMoreNumbers&&(Math.abs(this.inputService.inputSelection.selectionEnd-this.inputService.inputSelection.selectionStart)==this.inputService.rawValue.length&&this.setValue(null),this.inputService.addNumber(e))}this.onModelChange(this.inputService.value)},e.prototype.handlePaste=function(e){var t=this;setTimeout((function(){t.inputService.updateFieldValue(),t.setValue(t.inputService.value),t.onModelChange(t.inputService.value)}),1)},e.prototype.updateOptions=function(e){this.inputService.updateOptions(e)},e.prototype.getOnModelChange=function(){return this.onModelChange},e.prototype.setOnModelChange=function(e){this.onModelChange=e},e.prototype.getOnModelTouched=function(){return this.onModelTouched},e.prototype.setOnModelTouched=function(e){this.onModelTouched=e},e.prototype.setValue=function(e){this.inputService.value=e},e.prototype.timer=function(e,t){setTimeout(e,t)},e}(),l=function(){function e(e,t,i){this.currencyMaskConfig=e,this.elementRef=t,this.keyValueDiffers=i,this.options={},this.optionsTemplate={align:"right",allowNegative:!0,allowZero:!0,decimal:".",precision:2,prefix:"$ ",suffix:"",thousands:",",nullable:!1,inputMode:s.FINANCIAL},e&&(this.optionsTemplate=e),this.keyValueDiffer=i.find({}).create()}return e.prototype.ngAfterViewInit=function(){this.elementRef.nativeElement.style.textAlign=this.options&&this.options.align?this.options.align:this.optionsTemplate.align},e.prototype.ngDoCheck=function(){this.keyValueDiffer.diff(this.options)&&(this.elementRef.nativeElement.style.textAlign=this.options.align?this.options.align:this.optionsTemplate.align,this.inputHandler.updateOptions(Object.assign({},this.optionsTemplate,this.options)))},e.prototype.ngOnInit=function(){this.inputHandler=new u(this.elementRef.nativeElement,Object.assign({},this.optionsTemplate,this.options))},e.prototype.handleBlur=function(e){this.inputHandler.getOnModelTouched().apply(e)},e.prototype.handleCut=function(e){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleCut(e)},e.prototype.handleInput=function(e){this.isChromeAndroid()&&!this.isReadOnly()&&this.inputHandler.handleInput(e)},e.prototype.handleKeydown=function(e){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleKeydown(e)},e.prototype.handleKeypress=function(e){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handleKeypress(e)},e.prototype.handlePaste=function(e){this.isChromeAndroid()||!this.isReadOnly()&&this.inputHandler.handlePaste(e)},e.prototype.handleDrop=function(e){this.isChromeAndroid()||e.preventDefault()},e.prototype.isChromeAndroid=function(){return/chrome/i.test(navigator.userAgent)&&/android/i.test(navigator.userAgent)},e.prototype.isReadOnly=function(){return this.elementRef.nativeElement.hasAttribute("readonly")},e.prototype.registerOnChange=function(e){this.inputHandler.setOnModelChange(e)},e.prototype.registerOnTouched=function(e){this.inputHandler.setOnModelTouched(e)},e.prototype.setDisabledState=function(e){this.elementRef.nativeElement.disabled=e},e.prototype.writeValue=function(e){this.inputHandler.setValue(e)},e}(),h=function(){function e(){}return e.forRoot=function(t){return{ngModule:e,providers:[{provide:r,useValue:t}]}},e}()}}]);